{% load static %}

<div class="form-group">
    <label for="id_phone">Cell Phone<span class="text-danger">*</span></label>
    {{ form.phone.errors }}
    <input type="tel" id="id_phone" name="phone" class="form-control" placeholder="e.g. 780-123-4567" required
           value="{{ form.phone.value|default:"" }}" autofocus>
</div>
<div class="form-group">
    <label for="id_email">Email<span class="text-danger">*</span></label>
    {{ form.email.errors }}
    <input type="tel" id="id_email" name="email" class="form-control" placeholder="e.g. username@email.com" required
           value="{{ form.email.value|default:"" }}" autofocus>
</div>

<div class="form-group">
    {{ formset.management_form }}
    {% for form in formset %}
        {{ form.as_p }}
    {% endfor %}
<input type="button" value="Add More" id="add_more">

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="/static/css/time.css">.
<script src="{% static 'js/jquery.formset.js' %}"></script>
<script type="text/javascript" src="scripts/bootstrap.min.js"></script>

<script type="text/javascript">
    $('#add_more').click(function() {
        cloneMore('div.table:last', 'service');
    });
function cloneMore(selector, type) {
    var newElement = $(selector).clone(true);
    var total = $('#id_' + type + '-TOTAL_FORMS').val();
    newElement.find(':input').each(function() {
        var name = $(this).attr('name').replace('-' + (total-1) + '-','-' + total + '-');
        var id = 'id_' + name;
        $(this).attr({'name': name, 'id': id}).val('').removeAttr('checked');
    });
    newElement.find('label').each(function() {
        var newFor = $(this).attr('for').replace('-' + (total-1) + '-','-' + total + '-');
        $(this).attr('for', newFor);
    });
    total++;
    $('#id_' + type + '-TOTAL_FORMS').val(total);
    $(selector).after(newElement);
}

</script>


