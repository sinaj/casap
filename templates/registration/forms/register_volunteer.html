{% load static %}

<div class="form-group row">
    <label for="id_phone" class="col-sm-4 col-form-label">Cell Phone<span class="text-danger">*</span></label>
    {{ form.phone.errors }}
    <div class="col-sm-6">
        <input type="tel" id="id_phone" name="phone" class="form-control" placeholder="e.g. 780-123-4567" required
               value="{{ form.phone.value|default:"" }}" autofocus>
    </div>

</div>
<div class="form-group row">
    <label for="id_email" class="col-sm-4 col-form-label">Email<span class="text-danger">*</span></label>
    {{ form.email.errors }}
    <div class="col-sm-6">
        <input type="text" id="id_email" name="email" class="form-control" placeholder="e.g. username@email.com"
               required
               value="{{ form.email.value|default:"" }}" autofocus>
    </div>
</div>

<div class="form-group row">
    <label for="id_twitter" class="col-sm-4 col-form-label">Twitter Handle</label>
    {{ form.twitter_handle.errors }}
    <div class="col-sm-6">
        <input type="text" id="id_twitter_handle" name="twitter_handle" class="form-control" placeholder="e.g. casap91"
               value="{{ form.twitter_handle.value|default:"" }}" autofocus>
    </div>

</div>
<hr>
<h5>Areas of Availability
</h5><br>
{{ formset.management_form }}
{% for form in formset.forms %}
<div class="table">
    <div class="row">
        {{ form.non_field_errors }}
        {{ form.field_errors }}
        <div class="col-md-4 text-right">
            Street<span class="text-danger">*</span>
        </div>
        <div class="col-md-4">
            <input type="text" id="id_street" name="street" class="form-control" placeholder="e.g. whatever" required value="{{form.street|default:"" }}" autofocus>
        </div>
        <div class="col-md-4"></div>

    </div>

   

    <div class ="row center-block">

            <div class="col-md-4"></div>

            <div class="col-md-4">

                <div class="row">
                     City
                    <span
                    class="text-danger">*</span> {{ form.city }}
                    Province<span
                    class="text-danger">*</span> {{ form.province }}
                </div>
            </div>
             <div class="col-md-4"></div> 
    </div>

    <div class="row">
        <div class="col-md-4"></div>

            <div class="col-md-4">
        
                Km Radius<span class="text-danger">*</span>
                {{ form.km_radius }} Delete {{ form.DELETE }}
            </div> 
        <div class="col-md-4"></div>
    </div> 
</div>

{% endfor %}
<button class="btn btn-primary" type="button" id="add_more">Add Address</button>
<hr>
<script>
    // language=JQuery-CSS
    $('#add_more').click(function () {
        cloneMore('div.table:last', 'volunteers');
    });

</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="/static/css/time.css">
<script src="{% static 'js/jquery.formset.js' %}"></script>
<script type="text/javascript" src="scripts/bootstrap.min.js"></script>

<script>
    function cloneMore(selector, type) {
        var newElement = $(selector).clone(true);
        var total = $('#id_' + type + '-TOTAL_FORMS').val();
        newElement.find(':input').each(function () {
            var name = $(this).attr('name').replace('-' + (total - 1) + '-', '-' + total + '-');
            var id = 'id_' + name;
            $(this).attr({'name': name, 'id': id}).val('').removeAttr('checked');
        });
        newElement.find('label').each(function () {
            var newFor = $(this).attr('for').replace('-' + (total - 1) + '-', '-' + total + '-');
            $(this).attr('for', newFor);
        });
        total++;
        $('#id_' + type + '-TOTAL_FORMS').val(total);
        $(selector).after(newElement);
    }

</script>


